<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Search statistics</title>
    <link href="css/bootstrap-combined.min.css" rel="stylesheet">
</head>

<body>
<div class="navbar"></div>
<div style="width: 300px">
    <div id="stats"></div>
    <div>
        <button id="clear">RAZ</button>
    </div>
</div>
</body>

<script src="js/mustache.min.js"></script>
<script src="js/jquery.min.js"></script>
<script src="js/common.js"></script>
<script>
    function showStats() {
        $.getJSON('statistics.json', function (json) {printStats(json)});
    }

    function clearStats() {
        $.ajax({
            url: 'statistics.json',
            type: 'DELETE',
            success: function (json) {printStats(json)}
        });
    }

    function printStats(json) {
        $('#stats').html(Mustache.to_html($('#template').html(), json));
    }

    $('#clear').click(function () {
        clearStats();
    });


    showStats();


</script>
<script id="template" type="text/template">
    <p>Nombre total de recherche : {{searchCount}}</p>

    <p>Nombre de recherches distincts : {{distinctSearchCount}}</p>
</script>

</html>
